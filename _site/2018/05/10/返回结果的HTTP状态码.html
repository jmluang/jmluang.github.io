<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cmn-Hans" lang="zh-cmn-Hans">
<head>

    <link rel="shortcut icon" href="/images/favicon.icon" type="image/x-icon">
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>返回结果的HTTP状态码</title>
    <meta name="author" content="liang Juming" />

    <!-- Homepage CSS -->
    <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />

    <link rel="stylesheet" href="/css/atom-one-dark.css">
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

</head>
<body>

  <div class="site">
      <div class="title">
    <a href="/">Jm's Blog</a>
    <a class="extra" href="/about">about</a>
  </div>

<div id="post">
  <p class="title">返回结果的HTTP状态码</p>
  <span class="time">2018年05月10日</span>
  <p><img src="https://github.com/jmluang/jmluang.github.io/blob/master/images/posts/20180510.png" alt="" /></p>

<p>HTTP状态码负责表示客户端HTTP请求的返回结果、标记服务器端的处理是否正常、通知出现的错误等工作。</p>

<p>状态码的职责是当客户端向服务器发送请求时，描述返回的请求结果。借助状态码，用户可以知道服务端是正常处理了请求，还是出现了错误。</p>

<p>状态码以3位数字和原因短语组成。数字的第一位指定了响应类别，后两位无分类。响应类别有以下5种。</p>

<p>状态码的类别：
| - | 类别 | 原因短语 |
|–|–|–|
| 1XX | Informational（信息性状态码） | 接收的请求正在处理 |
| 2XX | Success（成功状态码） | 请求正常处理完毕 |
| 3XX | Redirection（重定向状态码） | 需要进行附加操作以完成请求 |
| 4XX | Client Error（客户端错误状态码） | 服务器无法处理请求 |
| 5XX | Server Error（服务器错误状态码） | 服务器处理请求出错 |
只要遵守状态码类别的定义，即使改变 <a href="https://tools.ietf.org/html/rfc2616#section-10.1">RFC2616</a> 中定义的状态码，或服务器端自行创建状态码都没问题。</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// php code</span>
<span class="nb">header</span><span class="p">(</span><span class="s2">"HTTP/1.1 299 Success But Exception"</span><span class="p">);</span>
</code></pre></div></div>

<blockquote>
  <p>下面列举一些可能会用到的状态码</p>
</blockquote>

<h3 id="2xx-成功">2XX 成功</h3>
<p>2XX 的响应结果表示请求被正常处理了。</p>
<h4 id="200-ok">200 Ok</h4>
<p>表示从客户端发来的请求在服务器端被正常处理了。
在响应报文内，随状态码一起返回的信息会因<strong>方法</strong>的不同而发生改变。比如，使用 GET 方法时，对应请求资源的尸体会作为响应返回；而使用 HEAD 方法时，对应请求资源的实体主体不随报文首部作为响应返回。</p>
<h4 id="201--created">201  Created</h4>
<p>表示客户端请求已经被接收了，所请求的资源已经被正常创建了，可以通过在实体中的 URIs 访问到该资源。
如果该资源未能被正常创建，应该返回 202，而不是201</p>
<h4 id="202--accepted">202  Accepted</h4>
<p>表示客户端已经接收到并且开始处理请求，但是还没有处理完。
返回响应的目的是允许发送其他请求到服务器，而不必保持连接等待操作的完成。一般来说返回的实体中应该返回当前任务的处理进度，或者返回指向能查看进度的 URI。</p>
<h4 id="204--no-content">204  No Content</h4>
<p>表示服务器接收的请求已成功处理，但在返回的响应报文中不含实体的主体部分。<strong>另外，也不允许返回任何实体的主体。</strong>比如，当从浏览器发出请求处理后，返回 204 响应，那么浏览器显示的页面不发生更新。
一般在只需要从客户端往服务器发送信息，而对客户端不需要发送新信息内容的情况下使用。</p>
<h4 id="206--partial-content">206  Partial Content</h4>
<p>表示客户端进行了范围请求，而服务器成功执行了这部分的请求。响应报文中包含由 Content-Range 指定返回的实体内容。</p>

<h3 id="3xx-重定向">3XX 重定向</h3>
<p>3XX 响应结果表明浏览器需要执行某些特殊的处理以正确处理请求。</p>
<h4 id="301--moved-permanently">301  Moved Permanently</h4>
<p>永久性重定向。该状态码表示请求的资源已被分配了新的 URI，以后使用资源现在所指定的URL。也就是说，如果已经把资源对应的 URI 保存为书签了，这是应该按 Location 首部字段提示的 URI 重新保存。</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">header</span><span class="p">(</span><span class="s2">"HTTP/1.1 301 Moved Permanently"</span><span class="p">);</span>
<span class="sd">/**
* 实际上只用 Location 就能实现转跳。
* 但是如果是永久性的搬迁的话，推荐带上 301，
* 因为这样对搜索引擎比较友好。
**/</span>
<span class="nb">header</span><span class="p">(</span><span class="s2">"Location:https://github.com/jmluang"</span><span class="p">);</span>
</code></pre></div></div>
<h4 id="302--found">302  Found</h4>
<p>临时性重定向。表示请求的资源被临时分配到了新的 URI，希望用户（本次）使用新的 URI 访问。</p>

<blockquote>
  <p>301 与 302：注意 302 表示的是临时的重定向，说明被移动的资源以后还有可能会被移动。比如，如果 URI 被收藏到了收藏夹，则返回 301 的话书签上的 URI 也会跟着改变，但是返回 302 的话书签不会改变。
301，302标准是禁止将 POST 方法改变成GET方法的，但是实际使用时大家都不会遵循这个标准。</p>
</blockquote>

<h4 id="303--see-other">303  See Other</h4>
<p>表示由于请求对应的资源存在着另一个 URI ，应该使用 GET 方法定向获取请求的资源。</p>
<blockquote>
  <p>要注意：很多HTTP1.1之前的浏览器不能正确理解 303 的。这个时候可以考虑使用 302 代替。。</p>
</blockquote>

<h4 id="304--not-modified">304  Not Modified</h4>
<p>表示客户端发送附带条件的请求（即采用GET方法的请求报文中包含 If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since中任一首部）时，服务器端允许请求访问资源，但因发生请求未满足条件的情况后，直接返回 304 Not Modified（<strong>服务器端资源未改变，可直接使用客户端未过期的缓存</strong>）。</p>
<blockquote>
  <p>304 状态码返回时，不包含任何响应的主体部分；304 虽然被划分在 3XX 类别中，但是和重定向没有关系。</p>
</blockquote>

<h4 id="307--temporary-redirect">307  Temporary Redirect</h4>
<p>临时重定向，该状态与 302 Not Found 有着相同的含义。
307 会遵照浏览器标准，不会从 POST 变成 GET。但是，对于处理响应时的行为，每种浏览器有可能出现不同的情况。</p>

<h3 id="4xx-客户端错误">4XX 客户端错误</h3>
<p>4XX 的响应结果表明客户端是发生错误的原因所在。</p>

<h4 id="400--bad-request">400  Bad Request</h4>
<p>表示请求报文中存在语法错误。当错误发生时，需修改请求内容后再次发送请求。另外，浏览器会像 200 OK 一样对该该状态码</p>

<h4 id="401--unauthorized">401  Unauthorized</h4>
<p>该状态码表示发送的请求需要有通过 HTTP 的认证信息。另外若之前已进行过 1 次请求，则表示认证失败。
返回含有 401 的响应必须包含一个适用于被请求资源的 WWW-Authenticate 首部用以咨询 （challenge）用户信息。当浏览器初次接收到401响应，会弹出认证用的对话窗口。</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">header</span><span class="p">(</span><span class="s2">"HTTP/1.1 401 Unauthorized"</span><span class="p">);</span>
<span class="nb">header</span><span class="p">(</span><span class="s2">"WWW-Authenticate: Basic realm='Unauthorized'"</span><span class="p">);</span>
</code></pre></div></div>

<h4 id="403--forbidden">403  Forbidden</h4>
<p>表示对请求资源的访问被服务器拒绝了。服务器端没有必要给出拒绝的详细理由，但如果想作说明的话，可以在实体的主题部分对原因进行描述，这样就能让用户看到了。
未获得文件系统的访问权限，访问权限出现问题等情况都可能发生 403 的原因（特别是在 Linux 上经常由于权限问题出现 403）。</p>

<h4 id="404--not-found">404  Not Found</h4>
<p>表示服务器上无法找到请求的资源。除此之外，也可以在服务器端拒绝请求且不想说明理由的时候使用</p>

<h3 id="5xx-服务器错误">5XX 服务器错误</h3>
<p>5XX 的响应结果表明服务器本身发生错误</p>

<h4 id="500--internal-server-error">500  Internal Server Error</h4>
<p>表明服务器端在执行请求时发送了错误。也有可能是 Web应用出现 bug 或者临时故障。</p>

<h4 id="503--service-unavailable">503  Service Unavailable</h4>
<p>表示服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。如果事先得知解除以上情况需要的时间，最好写入 Retry-After 到首部再返回给客户端。</p>

<blockquote>
  <p>状态码是一个标准，尊不遵循这个标准在于开发人员本身。但我们应该遵循这些标准去设计，因为这些状态码代表的是一种状态，是给人看的，不是给机器看的。</p>
</blockquote>

<blockquote>
  <p>Written with <a href="https://stackedit.io/">StackEdit</a>.
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTExNDU1MDAwMDJdfQ==
--></p>
</blockquote>

</div>

<div id="splict">
</div>

<div id="related">
  <h4>相关文章</h4>
  <ul class="posts">
    
      <li>&raquo; <a href="/2018/04/11/php7%E5%AE%89%E8%A3%85Xhprof.html">php7安装Xhprof</a></li>
    
      <li>&raquo; <a href="/2018/03/24/Centos7%E9%85%8D%E7%BD%AE%E5%85%8D%E8%B4%B9https%E8%AF%81%E4%B9%A6.html">Centos7配置免费https证书</a></li>
    
      <li>&raquo; <a href="/2018/03/13/%E9%83%A8%E7%BD%B2-git-%E6%9C%8D%E5%8A%A1%E5%99%A8.html">部署 git 服务器</a></li>
    
  </ul>
</div>
  <div class="footer">
    <div class="contact-left">
      <p>
        Luang Juming
        <br />
        ljm9601@hotmail.com
      </p>
    </div>
    <div class="contact-right">
      <p>
        <br />
        <a href="https://github.com/jmluang/jmluang.github.io">Theme by @jmluang</a>
      </p>
    </div>
  </div>


  </div>

<!-- <a href="http://github.com/jmluang"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" /></a> -->

</body>
</html>
